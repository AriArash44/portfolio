import{r as e,i as A,j as l}from"./index-DYWa0-hF.js";const G=({images:n,autoPlay:j=!1,interval:k=4e3})=>{const[s,$]=e.useState(0),[C,g]=e.useState(!0),[z,b]=e.useState(!1),[x,T]=e.useState(null),[r,S]=e.useState(!1),N=e.useRef(new Set([0])),o=e.useRef(null),h=e.useRef(0),u=e.useRef(null),[i,E]=e.useState(null),[m,w]=e.useState(null),L=e.useRef(null),I=50,p=A.language;e.useEffect(()=>{h.current=s},[s]),e.useEffect(()=>()=>{o.current&&window.clearInterval(o.current),u.current&&window.clearTimeout(u.current)},[]);const R=e.useCallback(t=>{[t,(t+1)%n.length,(t-1+n.length)%n.length].forEach(c=>{if(!N.current.has(c)){const y=new Image;y.src=n[c].src,y.onload=()=>{N.current.add(c)},y.onerror=()=>{console.error(`Failed to preload image: ${n[c].src}`)}}})},[n]);e.useEffect(()=>{R(s)},[s,R]);const d=e.useCallback((t,a)=>{t===h.current||r||(S(!0),T(a),$(t),g(!0),u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>{S(!1),T(null)},500))},[r]),f=e.useCallback(()=>{const t=(h.current+1)%n.length;d(t,"left")},[d,n.length]),v=e.useCallback(()=>{const t=(h.current-1+n.length)%n.length;d(t,"right")},[d,n.length]),_=e.useCallback(()=>{g(!1)},[]),M=e.useCallback(()=>{console.error("Failed to load current image"),g(!1)},[]),O=e.useCallback(()=>x?x==="left"?"slide-in-left":"slide-in-right":"",[x]),D=e.useCallback(t=>{r||(w(null),E(t.targetTouches[0].clientX))},[r]),F=e.useCallback(t=>{i&&w(t.targetTouches[0].clientX)},[i]),P=e.useCallback(()=>{if(!i||!m||r)return;const t=i-m,a=t>I,c=t<-I;a?f():c&&v(),E(null),w(null)},[i,m,r,f,v]);e.useEffect(()=>{if(j)return o.current=window.setInterval(()=>{f()},k),()=>{o.current&&(window.clearInterval(o.current),o.current=null)}},[j,k,n.length,f]);const X=e.useCallback(()=>{b(!0)},[]),H=e.useCallback(()=>{b(!1)},[]),q=e.useCallback(()=>{b(t=>!t)},[]);return l.jsxs("div",{className:`carousel relative w-full mx-auto overflow-hidden rounded-lg \r
                shadow-[0px_-15px_15px_5px_rgba(0,0,0,0.05)] dark:shadow-gray-600/50`,ref:L,onTouchStart:D,onTouchMove:F,onTouchEnd:P,children:[C&&l.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 flex items-center justify-center z-10",children:l.jsx("div",{className:"loader"})}),l.jsxs("div",{className:`relative w-full h-110 ${O()} cursor-pointer group`,onMouseEnter:X,onMouseLeave:H,onClick:q,children:[l.jsx("img",{src:n[s].src,alt:n[s].alt,className:`w-full h-full object-cover transition-all duration-500 ${C?"opacity-0":"opacity-100"}`,onLoad:_,onError:M,loading:"lazy",decoding:"async"},s),l.jsx("div",{className:`
                    absolute inset-0 transition-all duration-300 z-20
                    ${z?"opacity-100":"opacity-0 pointer-events-none"}
                `,children:l.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"text-white text-center z-30 relative font-bold text-xl w-4/5",children:p==="fa"?n[s].altfa:n[s].alt})})})]}),l.jsx("button",{onClick:f,disabled:r,className:`hidden sm:block absolute top-1/2 transform -translate-y-1/2 
                        ${p==="fa"?"translate-x-1/2 left-0":"-translate-x-1/2 right-0"}
                        bg-custom-gold/50 text-white rounded-full hover:bg-custom-gold/90 
                        transition-all disabled:opacity-50 disabled:cursor-not-allowed z-20
                        w-12 h-12 flex items-center justify-center cursor-pointer`,children:l.jsx("span",{className:"text-2xl leading-none pb-1",children:"›"})}),l.jsx("button",{onClick:v,disabled:r,className:`hidden sm:block absolute top-1/2 transform -translate-y-1/2
                        ${p==="fa"?"-translate-x-1/2 right-0":"translate-x-1/2 left-0"}
                        bg-custom-gold/50 text-white rounded-full hover:bg-custom-gold/90 
                        transition-all disabled:opacity-50 disabled:cursor-not-allowed z-20
                        w-12 h-12 flex items-center justify-center cursor-pointer`,children:l.jsx("span",{className:"text-2xl leading-none pb-1",children:"‹"})}),l.jsx("div",{className:"flex justify-center mt-4 space-x-1 sm:space-x-3 mb-1",children:n.map((t,a)=>l.jsx("button",{onClick:()=>d(a,a>s?"left":"right"),disabled:r,className:`cursor-pointer relative transition-all duration-300 w-2 h-2 sm:w-3.5 sm:h-3.5 rounded-full 
                            ${a===s?"scale-125 bg-custom-gold":"bg-gray-300 hover:bg-gray-400"} ${r?"opacity-50":"opacity-100"}`},a))})]})};export{G as default};
